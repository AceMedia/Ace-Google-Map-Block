document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".google-map").forEach((e=>{const t=parseFloat(e.dataset.lat),o=parseFloat(e.dataset.lng),n="true"===e.dataset.isStreetView,a=parseFloat(e.dataset.svHeading),i=parseFloat(e.dataset.svPitch),s=new google.maps.Map(e,{zoom:10,center:{lat:t,lng:o}}),l=new google.maps.Marker({position:{lat:t,lng:o},map:s}),d=new google.maps.StreetViewPanorama(e,{position:{lat:t,lng:o},pov:{heading:a,pitch:i},visible:n});n&&s.setStreetView(d),d.addListener("visible_changed",(function(){const e=d.getVisible();window.toggleStreetViewCheckbox&&window.toggleStreetViewCheckbox(e),e||s.setCenter(l.getPosition())}));let g=t,r=o;d.addListener("position_changed",(function(){const e=d.getPosition();!e||e.lat()===g&&e.lng()===r||(g=e.lat(),r=e.lng(),window.updateStreetViewAddress&&window.updateStreetViewAddress(g,r))})),window.onPlaceSelected=(e,t)=>{g=e,r=t,s.setCenter({lat:e,lng:t}),l.setPosition({lat:e,lng:t}),d.getVisible()&&d.setPosition({lat:e,lng:t})}}))}));